{"ast":null,"code":"import _classCallCheck from \"/Users/julienassouline/Documents/538_dashboard/endorsements/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/julienassouline/Documents/538_dashboard/endorsements/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/julienassouline/Documents/538_dashboard/endorsements/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/julienassouline/Documents/538_dashboard/endorsements/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/julienassouline/Documents/538_dashboard/endorsements/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/julienassouline/Documents/538_dashboard/endorsements/src/table_bar.js\";\n\nvar React = require(\"react\");\n\nvar d3 = require(\"d3\");\n\nvar TableBar =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(TableBar, _React$Component);\n\n  function TableBar() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TableBar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TableBar)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.anchorRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(TableBar, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(this.anchorRef.current);\n      var colors = this.props.colors;\n      var table = this.props.rows !== undefined ? this.props.endorsee.map(function (row, i) {\n        return React.createElement(\"tr\", {\n          key: \"row\" + i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 13\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          key: \"endorsee\" + i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 16\n          },\n          __self: this\n        }, \" \", row, \" \"), React.createElement(\"td\", {\n          id: \"bars\",\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 19\n          },\n          __self: this\n        }, React.createElement(\"svg\", {\n          id: \"svgs\",\n          ref: _this2.anchorRef,\n          width: 71,\n          height: 18,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20\n          },\n          __self: this\n        })));\n      }) : null;\n\n      if (this.anchorRef.current !== null) {\n        var groups = d3.selectAll(\"#svgs\").selectAll(\"g\").data(this.props.rows).enter().append(\"g\").style(\"fill\", function (d, i) {\n          return colors(i);\n        });\n        groups.selectAll(\".rect\").data(function (d) {\n          return d;\n        }).enter().append(\"rect\").attr(\"class\", \"rects\").attr(\"x\", function (d) {\n          return _this2.props.xScale(d[0]);\n        }).attr(\"height\", 18).attr(\"width\", function (d) {\n          return d[1] - d[0];\n        }).style(\"opacity\", 1);\n      }\n\n      return React.createElement(\"table\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, table));\n    }\n  }]);\n\n  return TableBar;\n}(React.Component);\n\nexport default TableBar;","map":{"version":3,"sources":["/Users/julienassouline/Documents/538_dashboard/endorsements/src/table_bar.js"],"names":["React","require","d3","TableBar","anchorRef","createRef","console","log","current","colors","props","table","rows","undefined","endorsee","map","row","i","groups","selectAll","data","enter","append","style","d","attr","xScale","Component"],"mappings":";;;;;;;AAAA,IAAIA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB;;AACA,IAAIC,EAAE,GAAGD,OAAO,CAAC,IAAD,CAAhB;;IAEME,Q;;;;;;;;;;;;;;;;;UACJC,S,GAAYJ,KAAK,CAACK,SAAN,E;;;;;;6BAEH;AAAA;;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKH,SAAL,CAAeI,OAA3B;AAEA,UAAMC,MAAM,GAAG,KAAKC,KAAL,CAAWD,MAA1B;AAEK,UAAME,KAAK,GAAG,KAAKD,KAAL,CAAWE,IAAX,KAAoBC,SAApB,GAAgC,KAAKH,KAAL,CAAWI,QAAX,CAAoBC,GAApB,CAAwB,UAACC,GAAD,EAAMC,CAAN;AAAA,eACnE;AAAI,UAAA,GAAG,EAAI,QAAMA,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAGE;AAAI,UAAA,GAAG,EAAI,aAAWA,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA2BD,GAA3B,MAHF,EAMI;AAAI,UAAA,EAAE,EAAG,MAAT;AAAgB,UAAA,GAAG,EAAIC,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC;AAAK,UAAA,EAAE,EAAG,MAAV;AAAiB,UAAA,GAAG,EAAI,MAAI,CAACb,SAA7B;AAAwC,UAAA,KAAK,EAAI,EAAjD;AAAqD,UAAA,MAAM,EAAI,EAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADD,CANJ,CADmE;AAAA,OAAxB,CAAhC,GAgCP,IAhCP;;AAkCA,UAAI,KAAKA,SAAL,CAAeI,OAAf,KAA2B,IAA/B,EAAqC;AACpC,YAAIU,MAAM,GAAGhB,EAAE,CAACiB,SAAH,CAAa,OAAb,EACVA,SADU,CACA,GADA,EAEVC,IAFU,CAEL,KAAKV,KAAL,CAAWE,IAFN,EAGVS,KAHU,GAIVC,MAJU,CAIH,GAJG,EAKVC,KALU,CAKJ,MALI,EAKI,UAACC,CAAD,EAAIP,CAAJ;AAAA,iBAAUR,MAAM,CAACQ,CAAD,CAAhB;AAAA,SALJ,CAAb;AAOAC,QAAAA,MAAM,CAACC,SAAP,CAAiB,OAAjB,EACKC,IADL,CACU,UAASI,CAAT,EAAW;AACf,iBAAOA,CAAP;AACD,SAHL,EAIKH,KAJL,GAKKC,MALL,CAKY,MALZ,EAMKG,IANL,CAMU,OANV,EAMmB,OANnB,EAOKA,IAPL,CAOU,GAPV,EAOe,UAACD,CAAD;AAAA,iBAAQ,MAAI,CAACd,KAAL,CAAWgB,MAAX,CAAkBF,CAAC,CAAC,CAAD,CAAnB,CAAR;AAAA,SAPf,EAQKC,IARL,CAQU,QARV,EAQoB,EARpB,EASKA,IATL,CASU,OATV,EASmB,UAACD,CAAD;AAAA,iBAAOA,CAAC,CAAC,CAAD,CAAD,GAAOA,CAAC,CAAC,CAAD,CAAf;AAAA,SATnB,EAUKD,KAVL,CAUW,SAVX,EAUsB,CAVtB;AAYA;;AAON,aACI;AAAO,QAAA,SAAS,EAAE,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACEZ,KADF,CADA,CADJ;AAOD;;;;EA5EoBX,KAAK,CAAC2B,S;;AA+E7B,eAAexB,QAAf","sourcesContent":["var React = require(\"react\")\nvar d3 = require(\"d3\")\n\nclass TableBar extends React.Component {\n  anchorRef = React.createRef()\n\n  render() {\n    console.log(this.anchorRef.current)\n\n    const colors = this.props.colors\n\n         const table = this.props.rows !== undefined ? this.props.endorsee.map((row, i) =>\n            <tr key = {\"row\"+i}>\n            {\n\n              <td key = {\"endorsee\"+i}> {row} </td>\n\n            }\n                <td id = \"bars\" key = {i}>\n                 <svg id = \"svgs\" ref = {this.anchorRef} width = {71} height = {18}>\n                  {\n                // this.props.rows.map((rows, i) =>\n\n                //   <g key = {\"g\"+i} style = {{\n                //         fill: this.props.colors(i)\n                //       }}>\n                //   {\n                //       rows.map((d, i) =>\n                //         <rect\n                //         key = {\"rects\" + i}\n                //         x={this.props.xScale(d[0])}\n                //         width = {(d[1] - d[0])}\n                //         height = { 18 }\n                //         />\n                //         )\n                //   }\n                //   </g>\n                //   )\n\n                }\n                </svg>\n                 </td>\n            </tr>\n            ) : null\n\n         if (this.anchorRef.current !== null) {\n          var groups = d3.selectAll(\"#svgs\")\n            .selectAll(\"g\")\n            .data(this.props.rows)\n            .enter()\n            .append(\"g\")\n            .style(\"fill\", (d, i) => colors(i))\n\n          groups.selectAll(\".rect\")\n              .data(function(d){\n                return d\n              })\n              .enter()\n              .append(\"rect\")\n              .attr(\"class\", \"rects\")\n              .attr(\"x\", (d) =>  this.props.xScale(d[0]))\n              .attr(\"height\", 18)\n              .attr(\"width\", (d) => d[1] - d[0])\n              .style(\"opacity\", 1)\n\n         }\n\n\n\n\n\n\n    return (\n        <table className =\"table\">\n        <tbody>\n        { table }\n        </tbody>\n        </table>\n      )\n  }\n}\n\nexport default TableBar"]},"metadata":{},"sourceType":"module"}