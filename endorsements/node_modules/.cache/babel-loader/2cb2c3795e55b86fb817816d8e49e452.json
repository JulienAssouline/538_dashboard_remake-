{"ast":null,"code":"import _toConsumableArray from \"/Users/julienassouline/Documents/538_dashboard/endorsements/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/julienassouline/Documents/538_dashboard/endorsements/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/julienassouline/Documents/538_dashboard/endorsements/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/julienassouline/Documents/538_dashboard/endorsements/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/julienassouline/Documents/538_dashboard/endorsements/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/julienassouline/Documents/538_dashboard/endorsements/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/julienassouline/Documents/538_dashboard/endorsements/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/julienassouline/Documents/538_dashboard/endorsements/src/TotalTable.js\";\n\nvar React = require(\"react\");\n\nvar d3 = require(\"d3\");\n\nvar _ = require('lodash');\n\nvar TotalTable =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(TotalTable, _React$Component);\n\n  function TotalTable(props) {\n    var _this;\n\n    _classCallCheck(this, TotalTable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TotalTable).call(this, props));\n    _this.state = {\n      data: []\n    };\n    _this.sortTable = _this.sortTable.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(TotalTable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        data: this.props.data\n      });\n    }\n  }, {\n    key: \"sortTable\",\n    value: function sortTable() {\n      console.log(this.props);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.data.length > 0) {\n        var data = this.props.data;\n        console.log(this.state);\n        var columns = [\"points\", \"position\", \"state\", \"endorser\", \"endorsee\", \"date\"];\n\n        var dataFiltered = _.map(data, function (d) {\n          return _.omit(d, ['city', 'category', \"body\", \"district\", \"endorser party\", \"order\", \"source\", \"index\"]);\n        });\n\n        dataFiltered.sort(function (a, b) {\n          return b.points - a.points;\n        });\n      }\n\n      var points_array = _toConsumableArray(Array(11).keys());\n\n      points_array.shift();\n      var colors = d3.scaleOrdinal().domain(points_array).range([\"#c2dbef\", \"#b3d2eb\", \"#a3c9e7\", \"#94c0e3\", \"#84b7de\", \"#75adda\", \"#65a4d6\", \"#569bd2\", \"#4692ce\", \"#3689ca\"]);\n\n      String.prototype.capitalize = function () {\n        return this.charAt(0).toUpperCase() + this.slice(1);\n      };\n\n      return React.createElement(\"table\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        id: \"headers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        onClick: this.sortTable,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, columns !== undefined ? columns.map(function (d, i) {\n        return React.createElement(\"th\", {\n          key: \"columns\" + i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, d.capitalize());\n      }) : null)), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, dataFiltered !== undefined ? dataFiltered.map(function (d, i) {\n        return React.createElement(\"tr\", {\n          key: \"row\" + i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, dataFiltered !== undefined ? columns.map(function (col, i) {\n          return React.createElement(\"td\", {\n            key: col,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }, \" \", React.createElement(\"span\", {\n            className: col === \"points\" ? \"points\" : \"others\",\n            style: {\n              background: col === \"points\" ? colors(d[col]) : \"white\",\n              color: col === \"points\" ? \"white\" : d.endorsee !== \"\" ? \"black\" : \"lightgrey\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }, \" \", d[col], \" \"), \" \");\n        }) : null);\n      }) : null));\n    }\n  }]);\n\n  return TotalTable;\n}(React.Component);\n\nexport default TotalTable;","map":{"version":3,"sources":["/Users/julienassouline/Documents/538_dashboard/endorsements/src/TotalTable.js"],"names":["React","require","d3","_","TotalTable","props","state","data","sortTable","bind","setState","console","log","length","columns","dataFiltered","map","d","omit","sort","a","b","points","points_array","Array","keys","shift","colors","scaleOrdinal","domain","range","String","prototype","capitalize","charAt","toUpperCase","slice","undefined","i","col","background","color","endorsee","Component"],"mappings":"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","sourcesContent":["var React = require(\"react\")\nvar d3 = require(\"d3\")\nconst _ = require('lodash');\n\nclass TotalTable extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { data: [] };\n    this.sortTable = this.sortTable.bind(this)\n  }\n\n  componentDidMount() {\n    this.setState({data: this.props.data})\n  }\n\n  sortTable() {\n    console.log(this.props)\n  }\n\n  render() {\n\n    if (this.props.data.length > 0) {\n      var data = this.props.data\n\n      console.log(this.state)\n\n    var columns = [\"points\", \"position\", \"state\", \"endorser\",\"endorsee\",  \"date\"]\n\n      var dataFiltered = _.map(data, d => {\n            return _.omit(d, ['city', 'category', \"body\", \"district\", \"endorser party\", \"order\", \"source\", \"index\"])\n          })\n\n      dataFiltered.sort((a,b) => b.points - a.points)\n\n    }\n\n    const points_array = [...Array(11).keys()]\n    points_array.shift()\n\n    var colors = d3.scaleOrdinal()\n     .domain(points_array)\n     .range([\"#c2dbef\",\"#b3d2eb\",\"#a3c9e7\",\"#94c0e3\",\"#84b7de\", \"#75adda\", \"#65a4d6\", \"#569bd2\", \"#4692ce\", \"#3689ca\"])\n\n    String.prototype.capitalize = function() {\n    return this.charAt(0).toUpperCase() + this.slice(1);\n}\n    return (\n      <table className =\"table\">\n        <thead id  =\"headers\">\n        <tr onClick = {this.sortTable}>\n        {\n         columns !== undefined ? columns.map((d, i) =>\n            <th key = {\"columns\" + i}>\n            {d.capitalize()}\n            </th>\n            ) : null\n        }\n        </tr>\n      </thead>\n      <tbody>\n      {\n        dataFiltered !== undefined ? dataFiltered.map((d,i) =>\n          <tr key = {\"row\" + i}>\n          {\n            dataFiltered !== undefined ?  columns.map((col, i) =>\n            <td key = {col}> <span className = {col === \"points\" ? \"points\" : \"others\"} style = {{background: col === \"points\" ? colors(d[col]) : \"white\", color: col === \"points\" ? \"white\" : d.endorsee !== \"\" ? \"black\" : \"lightgrey\"}}> { d[col] } </span> </td>\n            ) : null\n          }\n          </tr>\n          ) : null\n      }\n      </tbody>\n      </table>\n      )\n  }\n}\n\nexport default TotalTable"]},"metadata":{},"sourceType":"module"}